spring.datasource.url=jdbc:postgresql://127.0.0.1:5432/shipmonk-exchange-rates
spring.datasource.username=shipmonk
spring.datasource.password=secret

# Spring Boot 3.2+ Virtual Threads Support
# Automatically enables Virtual Threads for request handling (Java 21+)
spring.threads.virtual.enabled=true

# Connection Pool Configuration (HikariCP)
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Fixer.io Configuration
fixer.api.base-url=https://data.fixer.io/api
fixer.api.key=${FIXER_API_KEY:f8072c4af119eaff223015d8b7ecef80}
fixer.api.base-currency=EUR

# Actuator Configuration for Health Checks and Monitoring
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true

# SpringDoc OpenAPI Configuration
springdoc.show-actuator=true

# Tomcat Configuration for High Throughput
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=50
server.tomcat.max-connections=10000
server.tomcat.accept-count=500
server.tomcat.connection-timeout=20000

# Resilience4j Retry Configuration
resilience4j.retry.instances.fixer-io.max-attempts=3
resilience4j.retry.instances.fixer-io.wait-duration=1000
resilience4j.retry.instances.fixer-io.retry-exceptions=java.net.SocketTimeoutException




